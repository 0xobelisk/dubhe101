---
title: Build First Dubhe Dapp
description: ä½¿ç”¨ Dubhe å‘å¸ƒä½ çš„ç¬¬ä¸€ä¸ª Dapp
icon: Atom
---

## é…ç½® `sui` çš„ cli ç¯å¢ƒ

ä½¿ç”¨ [suiup](https://github.com/MystenLabs/suiup) é…ç½®å¼€å‘ç¯å¢ƒ

### From Script

```shell
curl -sSfL https://raw.githubusercontent.com/Mystenlabs/suiup/main/install.sh | sh
```

### From Cargo

```shell
cargo install --git https://github.com/Mystenlabs/suiup.git --locked
```

### å®‰è£…éœ€è¦çš„ `sui`

```shell
suiup install sui
suiup install sui@1.44.2 # å®‰è£…æŒ‡å®šç‰ˆæœ¬
suiup install sui@devnet # å®‰è£…æŒ‡å®šçš„ release
```

### å®‰è£… `walrus` (å¯é€‰)

```shell
suiup install walrus -y
```

## é…ç½® `Dubhe`

### å®‰è£… `nodejs`

æ¨èä½¿ç”¨ `nvm`

```shell
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
nvm install v18.20.8 # æ¨èä½¿ç”¨ 18 çš„ç‰ˆæœ¬ï¼Œå’Œ å¼€å‘è€…ç¯å¢ƒå¯¹é½ ğŸ˜„
```

## æ–°å»ºè„šæ‰‹æ¶

### create

```shell
pnpm create dubhe-wip
```

æŒ‰ç…§å¦‚ä¸‹çš„é€‰é¡¹ï¼Œé€‰æ‹© sui 101 çš„é¡¹ç›®ä½œä¸ºå…¥é—¨ç¤ºä¾‹ã€‚

![image](../images/cli-build.png)

### æ–‡ä»¶è¯´æ˜

åˆ›å»ºå‡ºæ¥çš„é¡¹ç›®æ˜¯ä¸€ä¸ª å¤š package çš„ workspace é¡¹ç›®ï¼Œæ–‡ä»¶åˆ—è¡¨å¦‚ä¸‹

![image](../images/project-list.png)

- package.json ä¸ºé¡¹ç›®çš„ä¸»é…ç½®æ–‡ä»¶

script éƒ¨åˆ†åŒ…è£…äº†å¸¸ç”¨çš„å·¥å…·ã€‚
å…¶ä¸­ `pnpm run dev` ä¼šå¯åŠ¨ä¸€ä¸ª mprocs ç®¡ç†ç¨‹åºã€‚

- mprocs.yaml

è¿™é‡Œé…ç½®äº† mprocs å¯åŠ¨çš„è¿›ç¨‹åˆ—è¡¨ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±çš„å®é™…æ¸…å†µï¼Œæ·»åŠ ä¿®æ”¹

- packages

  è¿™é‡Œæœ‰ä¸¤ä¸ª package : _client_ å’Œ _contracts_

  - client æ˜¯ä¸€ä¸ªè¿è¡Œçš„ web å®¢æˆ·ç«¯ï¼Œç”¨æ¥è°ƒè¯•åˆçº¦è°ƒç”¨çš„ dapp ç¨‹åº ï¼Œ ä¹Ÿæ˜¯ä¸€ä¸ª next.js ç¨‹åº
  - contracts è¿™é‡ŒåŒ…å«äº†åˆçº¦éƒ¨åˆ†ã€‚è¿™é‡ŒåŒ…å«äº†åˆçº¦çš„å¸¸ç”¨æ“ä½œ script ä¹Ÿæ˜¯ `dubhe`çš„æ ¸å¿ƒé¡¹ç›®ã€‚è¿™é‡ŒåŒ…å«ä¸€ä¸ª é»˜è®¤çš„ indexer ç¨‹åºï¼Œclient ä¼šä»è¿™é‡Œè·å–æ•°æ®ã€‚

### å®‰è£… å¯åŠ¨ dev

```shell
pnpm install
pnpm run dev
```

![image](../images/dev-panel.png)

å¯åŠ¨ä»¥åï¼Œdubhe å¸®æˆ‘ä»¬åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š

1. å¯åŠ¨ä¸€ä¸ªæœ¬åœ°èŠ‚ç‚¹åœ¨ 127.0.0.1:9000 åŠ faucet æ¥å£: http://127.0.0.1:9123/
2. äº§ç”Ÿè‹¥å¹²ä¸ª faucet å¥½ SUI çš„å¸å·
3. éƒ¨ç½² contracts éƒ¨åˆ†çš„åˆçº¦åˆ°æœ¬åœ°èŠ‚ç‚¹
4. å¯åŠ¨ä¸€ä¸ª sqlite indexer
5. å¯åŠ¨ä¸€ä¸ª å¯¹åº”çš„ dapp ç¨‹åº

å…¶ä¸­ï¼Œ 1 å’Œ 2 åœ¨ node çš„è¿›ç¨‹ä¸­ , 3 å’Œ 4 åœ¨ contracts çš„è¿›ç¨‹ä¸­ ï¼Œ 5 åœ¨ client çš„è¿›ç¨‹ä¸­ã€‚

## æµ‹è¯•æœ¬åœ°è¿è¡Œ

æŒ‰ç…§ dev çš„æ–¹å¼å¯åŠ¨ä»¥åï¼Œç”¨æµè§ˆå™¨æ‰“å¼€ dapp ç«™ç‚¹: http://localhost:3000 ã€‚
ä½ å°†å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ä¸€ä¸ª counter çš„ dapp.

![image](../images/first-dapp.png)

è¿™ä¸ª dapp ä¸éœ€è¦è¿æ¥ wallet ï¼Œä½¿ç”¨çš„ client/.env ä¸­ å£°æ˜çš„ ç§é’¥ç›´æ¥è¿›è¡Œç­¾åäº¤äº’ã€‚

## å‘å¸ƒåˆ° testnet

åœ¨ contracts ç›®å½•æ‰§è¡Œ `pnpm setup:testnet` å³å¯å®Œæˆå‘å¸ƒã€‚

![image](../images/first-publish.png)

æ³¨æ„: testnet çš„ faucet ä¸èƒ½ç”¨ï¼Œæ‰€ä»¥ï¼Œéœ€è¦æå‰å‡†å¤‡å¥½ testnet çš„ Sui ä½œä¸º å‘å¸ƒ gasã€‚
testnet æ°´é¾™å¤´: https://faucet.sui.io/

å‡†å¤‡å¥½ gas åï¼Œå†æ¬¡å‘å¸ƒ,å°±å¯ä»¥çœ‹åˆ°å‘å¸ƒçš„ç»“æœ

![image](../images/testnet-publish.png)

è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ä½ çš„å‘å¸ƒä¿¡æ¯

- å‘å¸ƒçš„äº¤æ˜“
- å‘å¸ƒçš„ package id
- æ›´æ–°çš„ Upgrade Cap
- åœ¨ dubhe æ³¨å†Œäº¤æ˜“

éƒ¨ç½²ä¿¡æ¯åœ¨ ./deployment.ts
è¿™é‡Œå¯ä»¥çœ‹åˆ°å®Œæ•´çš„ history ä¿¡æ¯ï¼š src/counter/.history/sui_testnet/latest.json

## ç›¸å…³é“¾æ¥

- [mprocs](https://github.com/pvolok/mprocs)
- [suiup](https://github.com/MystenLabs/suiup)
- [nvm](https://github.com/nvm-sh/nvm)
